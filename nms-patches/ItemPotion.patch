--- ../work/decompile-8eb82bde//net/minecraft/server/ItemPotion.java	2014-12-16 07:22:49.265893702 -0600
+++ src/main/java/net/minecraft/server/ItemPotion.java	2014-12-16 07:22:49.269893708 -0600
@@ -98,14 +98,22 @@
 
     public ItemStack a(ItemStack itemstack, World world, EntityHuman entityhuman) {
         if (f(itemstack.getData())) {
+            // CraftBukkit start - don't decrement itemstack or play sound if ProjectileLaunchEvent is canceled
+            if (!world.isStatic) {
+                if (!world.addEntity(new EntityPotion(world, entityhuman, itemstack))) {
+                    return itemstack;
+                }
+            }
+            // CraftBukkit end
             if (!entityhuman.abilities.canInstantlyBuild) {
                 --itemstack.count;
             }
 
             world.makeSound(entityhuman, "random.bow", 0.5F, 0.4F / (ItemPotion.g.nextFloat() * 0.4F + 0.8F));
-            if (!world.isStatic) {
-                world.addEntity(new EntityPotion(world, entityhuman, itemstack));
-            }
+            // CraftBukkit - moved up
+            //if (!world.isStatic) {
+            //    world.addEntity(new EntityPotion(world, entityhuman, itemstack));
+            //}
 
             entityhuman.b(StatisticList.USE_ITEM_COUNT[Item.getId(this)]);
             return itemstack;
